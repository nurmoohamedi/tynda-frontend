<footer class="footer" *ngIf="showPlayerBar">
  <div class="footer-container">
    <div class="song-details">
      <ng-template [ngIf]="musicInfo">
        <div class="song-details-img">
          <img src="{{ musicInfo?.img_link }}">
        </div>
        <div class="song-details-name">
          <p class="song-details-title">
            {{ musicInfo?.name }}
          </p>
          <p class="song-details-subtitle">
            {{ musicInfo?.artist }}
          </p>
        </div>
      </ng-template>
    </div>
    <div class="player-controls">
      <div class="player-controls-buttons">
        <div class="player-controls__left">
          <button class="player-controls__button">
            <td-icon
              [type]="'svg'"
              [name]="'shuffle'"
              class="icon-16"
              [className]="'icon-16 gray'"
            ></td-icon>
          </button>
          <button class="player-controls__button">
            <td-icon
              [type]="'svg'"
              [name]="'prev'"
              class="icon-16"
              [className]="'icon-16 gray-white'"
            ></td-icon>
          </button>
        </div>
        <button *ngIf="!state.playing" class="player-controls__button white" (click)="playerActions('play')">
          <td-icon
            [type]="'svg'"
            [name]="'play'"
            class="icon-16"
            [className]="'icon-16 black'"
          ></td-icon>
        </button>
        <button *ngIf="state.playing" class="player-controls__button white" (click)="playerActions('pause')">
          <td-icon
            [type]="'svg'"
            [name]="'stop'"
            class="icon-16"
            [className]="'icon-16 black'"
          ></td-icon>
        </button>
        <div class="player-controls__right">
          <button class="player-controls__button">
            <td-icon
              [type]="'svg'"
              [name]="'next'"
              class="icon-16"
              [className]="'icon-16 gray-white'"
            ></td-icon>
          </button>
          <button class="player-controls__button">
            <td-icon
              [type]="'svg'"
              [name]="'repeat'"
              class="icon-16"
              [className]="'icon-16 gray'"
            ></td-icon>
          </button>
        </div>
      </div>
      <div class="player-bar">
        <div class="player-bar-time">
          {{ state?.readableCurrentTime }}
        </div>
        <div class="player-bar-progressbar">
          <input
            class="time"
            id="playerProgressBar"
            type="range"
            [(ngModel)]="state.currentTime"
            (change)="onSliderChangeEnd($event)"
            [min]="0"
            [max]="state?.duration"
            step="1">
<!--          <audio controls autoplay src="{{baseUrl + '/songs/' + musicInfo?.id + '.mp3'}}"></audio>-->
        </div>
        <div class="player-bar-time">
          {{ state?.readableDuration }}
        </div>
      </div>
    </div>
    <div class="player-volume">
      <div class="player-controls__button" (click)="unmuteVolume()">
        <td-icon
          [type]="'svg'"
          [name]="isVolumeMuted ? 'unmute' : 'volume'"
          class="icon-16"
          className="icon-16 gray-white"
        ></td-icon>
      </div>
      <div class="player-volume-bar">
        <input
          id="playerVolume"
          type="range"
          [(ngModel)]="volume"
          (change)="onVolumeChange($event)"
          min="0"
          max="100"
          step="1">
      </div>
    </div>
  </div>
</footer>
